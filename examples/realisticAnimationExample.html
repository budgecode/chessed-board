<script src="../src/index.js"> </script>

<div id="chessboard"></div>

<script>

    const config = {
        leftClickDrag: (chessedEvent) => {

            const animation = (belowCanvas, aboveCanvas) => {
                const ctx = belowCanvas.getContext("2d");
                ctx.clearRect(0, 0, belowCanvas.width, belowCanvas.height);
                ctx.fillStyle = "#a5d6a7"
                ctx.fillRect(chessedEvent.currentSquare.origin.x, chessedEvent.currentSquare.origin.y, 70, 70);
                ctx.stroke();
            }

            chessboard.animate(animation);
        },
        leftClick: console.log,
        leftClickRelease: console.log,
        rightClickDrag: (chessedEvent) => {
            const animation = (belowCanvas, aboveCanvas) => {
                const ctx = aboveCanvas.getContext("2d");
                ctx.lineWidth = 8;
                ctx.strokeStyle = "#ef5350";

                ctx.clearRect(0, 0, aboveCanvas.width, aboveCanvas.height);
                ctx.beginPath();
                ctx.moveTo(chessedEvent.startSquare.center.x, chessedEvent.startSquare.center.y);
                ctx.lineTo(chessedEvent.currentSquare.center.x, chessedEvent.currentSquare.center.y);
                ctx.stroke();
            }

            chessboard.animate(animation);
        },
        rightClick: console.log,
        rightClickRelease: () => {
            chessboard.persistAboveAnimation();
        },
        mouseOut: () => {
            const animation = (belowCanvas, aboveCanvas) => {
                const bctx = belowCanvas.getContext("2d");
                const actx = aboveCanvas.getContext("2d");

                bctx.clearRect(0, 0, belowCanvas.width, belowCanvas.height);
                actx.clearRect(0, 0, aboveCanvas.width, aboveCanvas.height);
            }

            chessboard.animate(animation);
        }
    }


    const chessboard = new ChessedBoard("chessboard", config);
</script>