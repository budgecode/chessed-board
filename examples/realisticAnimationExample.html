<script src="../src/index.js"> </script>

<div id="chessboard"></div>

<script>

    const config = {
        coordinates: true,
        orientation: 1,
        onLeftClickDrag: (chessedEvent) => {

            const animation = (belowCanvas, aboveCanvas) => {
                const ctx = belowCanvas.getContext("2d");
                ctx.clearRect(0, 0, belowCanvas.width, belowCanvas.height);
                ctx.fillStyle = "#a5d6a7"
                ctx.fillRect(chessedEvent.currentSquare.origin.x, chessedEvent.currentSquare.origin.y, 90, 90);
                ctx.stroke();
            }

            chessboard.animate(animation);
        },
        onLeftClick: console.log,
        onLeftClickRelease: console.log,
        onRightClickDrag: (chessedEvent) => {
            const animation = (belowCanvas, aboveCanvas) => {
                const ctx = aboveCanvas.getContext("2d");
                ctx.lineWidth = 8;
                ctx.strokeStyle = "#ef5350";

                ctx.clearRect(0, 0, aboveCanvas.width, aboveCanvas.height);
                ctx.beginPath();
                ctx.moveTo(chessedEvent.startSquare.center.x, chessedEvent.startSquare.center.y);
                ctx.lineTo(chessedEvent.currentSquare.center.x, chessedEvent.currentSquare.center.y);
                ctx.stroke();
            }

            chessboard.animate(animation);
        },
        onRightClick: console.log,
        onRightClickRelease: () => {
            chessboard.persistTopAnimations();
        },
        onMouseOut: () => {
            const animation = (belowCanvas, aboveCanvas) => {
                const bctx = belowCanvas.getContext("2d");
                const actx = aboveCanvas.getContext("2d");

                bctx.clearRect(0, 0, belowCanvas.width, belowCanvas.height);
                actx.clearRect(0, 0, aboveCanvas.width, aboveCanvas.height);
            }

            chessboard.animate(animation);
        },
        onLoad: () => {
            chessboard.toggleCoordinates();
        }
    }


    const chessboard = new ChessedBoard("chessboard", config);

</script>